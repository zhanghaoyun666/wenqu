# 问渠 AI 命理咨询产品需求文档 (PRD)

> **版本**: v1.0  
> **撰写**: AI产品实习生  
> **日期**: 2026年2月  
> **项目状态**: ✅ 已完成 | 🚧 本地演示环境
> 
> **目标**: 展示从需求分析到功能设计的完整产品能力

---

## 1. 产品概述

### 1.1 产品定位

**问渠**是一款面向**应届毕业生和职场新人**的AI命理咨询平台，通过结合传统八字命理与现代AI技术，为用户提供事业、姻缘、时运等方面的决策参考。

### 1.2 核心价值主张

> "用AI技术让传统命理咨询更科学、更便捷、更有温度"

- **科学**: 基于准确的八字计算算法
- **便捷**: 随时随地，30秒获得专业分析
- **温度**: 角色化AI，让咨询过程更有"人味"

### 1.3 目标用户

| 用户画像 | 特征 | 需求场景 |
|---------|------|---------|
| **小明**<br>应届求职生 | 22岁，计算机专业<br>面临多家offer选择困难 | 深夜焦虑时寻求决策参考 |
| **小红**<br>职场新人 | 25岁，工作2年<br>考虑跳槽 | 午休时间快速咨询运势 |
| **小李**<br>创业者 | 28岁，初创公司CEO<br>重大决策前 | 关键节点寻求心理支持 |

### 1.4 产品目标（OKR）

| 目标类型 | 关键结果 (KR) | 衡量方式 |
|---------|--------------|---------|
| **用户规模** | 月活跃用户达10,000+ | 埋点统计MAU |
| **用户留存** | 7日留存率达40% | 用户行为分析 |
| **满意度** | NPS评分达50+ | 用户调研问卷 |
| **核心指标** | 对话完成率达80% | 漏斗分析 |

---

## 2. 需求分析

### 2.1 用户痛点分析

```
痛点层级金字塔：
                    /\
                   /  \
                  / 自我实现 \  ← 获得人生指引、明确方向
                 /____________\
                /   情感需求    \  ← 缓解焦虑、获得心理安慰
               /________________\
              /    功能需求      \  ← 准确的命理计算、专业分析
             /____________________\
            /      基础需求        \  ← 靠谱的咨询渠道、合理价格
           /________________________\
```

### 2.2 需求验证（用户访谈摘要）

**访谈对象**: 5位应届毕业生（3男2女）  
**核心发现**:

1. **求职焦虑普遍存在**: 80%受访者表示面临选择时会焦虑
2. **传统咨询门槛高**: 线下大师难找，线上信息质量参差不齐
3. **AI接受度高**: 年轻人对AI技术接受度高，但担心准确性
4. **需要情感共鸣**: 冷冰冰的AI回复让人没有信任感

### 2.3 竞品分析

| 产品 | 优势 | 劣势 | 我们的机会 |
|------|------|------|-----------|
| **传统命理大师** | 专业权威、可面对面交流 | 价格昂贵(300-1000/次)、难预约 | 低成本替代方案 |
| **八字算命APP** | 计算准确、功能全面 | 界面老旧、体验差 | 现代化UI设计 |
| **通用AI助手** | 随时可用、免费 | 不懂专业知识、回答泛泛 | 垂直领域深度优化 |

**差异化策略**: 
- 角色化AI设计（天乙/太极/红鸾）
- 面向求职场景深度优化
- 数据驱动持续迭代

---

## 3. 产品设计

### 3.1 功能架构

```
┌─────────────────────────────────────────────────────────┐
│                      问渠 AI 平台                         │
├─────────────┬─────────────┬─────────────┬───────────────┤
│   问道功能   │   六爻占卜   │   合盘分析   │   智能对话    │
│  (天乙贵人)  │  (太极贵人)  │  (红鸾天喜)  │  (AI助手)    │
├─────────────┼─────────────┼─────────────┼───────────────┤
│ • 事业分析   │ • 铜钱摇卦   │ • 配对分析   │ • 多轮对话    │
│ • 姻缘分析   │ • 卦象解析   │ • 相处建议   │ • 记忆功能    │
│ • 时运分析   │ • 变爻推演   │ • 缘分评估   │ • 知识库问答  │
└─────────────┴─────────────┴─────────────┴───────────────┘
```

### 3.2 AI角色设计

**设计原则**: 给AI一个清晰的人设，降低冰冷感，增强信任度

| 角色 | 名称 | 人格特征 | 语言风格 | 专业领域 |
|------|------|---------|---------|---------|
| **天乙贵人** | 严肃专业的八字大师 | 庄重、严谨 | 以"贫道"自称，古风庄重 | 事业、财运、时运 |
| **太极贵人** | 仙风道骨的占卜专家 | 飘逸、智慧 | 引经据典，富含哲理 | 决策、预测、事件占卜 |
| **红鸾天喜** | 温柔浪漫的姻缘之神 | 活泼、亲切 | 充满希望，温柔鼓励 | 感情、婚姻、人际关系 |

**角色设计要点**:
- 每个角色有独特的开场白和结束语
- 回答风格与角色定位一致
- 统一使用Markdown格式输出，便于阅读

### 3.3 核心功能设计

#### 3.3.1 问道功能（天乙贵人）

**用户流程**:
```
输入生辰信息 → 选择咨询方向 → AI分析 → 查看结果 → 保存/分享
```

**功能亮点**:
- **实时八字预览**: 输入后实时显示八字，增强信任感
- **三种咨询方向**: 事业/姻缘/时运，覆盖主要场景
- **结构化输出**: 概览→分析→建议→风险提示
- **语音播报**: 支持TTS语音播放结果

**PRD详细设计**:

| 模块 | 功能点 | 优先级 | 验收标准 |
|------|--------|--------|---------|
| 输入模块 | 公历生日选择器 | P0 | 支持1900-2100年 |
| 输入模块 | 时辰选择（12时辰） | P0 | 正确映射地支 |
| 输入模块 | 八字实时预览 | P1 | 输入后实时计算显示 |
| 输入模块 | 问题类型选择 | P0 | 事业/姻缘/时运 |
| AI模块 | 八字计算引擎 | P0 | 准确计算天干地支 |
| AI模块 | Prompt组装 | P0 | 完整传递八字信息 |
| AI模块 | 流式输出 | P1 | 打字机效果展示 |
| 输出模块 | 结构化展示 | P0 | Markdown格式渲染 |
| 输出模块 | 语音播放 | P2 | 支持TTS合成 |

#### 3.3.2 六爻功能（太极贵人）

**用户流程**:
```
默念问题 → 铜钱摇卦（6次） → 生成卦象 → AI解析 → 查看结果
```

**功能亮点**:
- **铜钱摇卦动画**: 增强仪式感
- **完整卦象解析**: 本卦、变卦、动爻一目了然
- **明确吉凶判断**: 给出清晰的吉凶结论和行动指引

#### 3.3.3 合盘功能（红鸾天喜）

**用户流程**:
```
输入双方生辰 → 计算匹配度 → 缘分分析 → 相处建议
```

**功能亮点**:
- **缘分指数量化**: 0-100分缘分评分
- **八字对比分析**: 天干地支相合相克分析
- **具体相处建议**: 可操作的建议，不只是理论

---

## 4. Prompt Engineering 设计

### 4.1 提示词工程体系

```
Layer 4 (应用层): 场景化提示词（事业/姻缘/时运）
Layer 3 (角色层): 天乙/太极/红鸾 角色定义  
Layer 2 (能力层): 八字/六爻/合盘 专业能力
Layer 1 (基础层): 安全约束 + 格式规范 + 时间校准
```

### 4.2 优化策略与成果

| 优化项 | 问题 | 解决方案 | 效果 |
|--------|------|---------|------|
| **时间校准** | AI经常把2026年说成2023年 | 强制注入当前日期 | 准确率 60%→95% |
| **思维链(CoT)** | 分析深度不够 | 分步骤分析引导 | 深度评分 +25% |
| **Few-shot** | 输出格式不一致 | 优质示例学习 | 一致性 70%→90% |
| **输出约束** | 格式混乱 | 强制Markdown格式 | 满意度 +15% |

### 4.3 Prompt版本迭代记录

| 版本 | 主要改进 | 效果评估 |
|------|---------|---------|
| v1.0 | 基础角色定义 | 追问率 35% |
| v1.1 | 增加思维链 | 追问率 28% |
| v1.2 | 优化时间校准 | 追问率 22% |
| v2.0 | 完整Few-shot示例 | 追问率 18% |

---

## 5. 数据指标体系

### 5.1 北极星指标

**对话完成率**（目标 > 80%）
- 选择理由: 只有完成对话，用户才真正获得价值
- 计算公式: `完成对话用户数 / 开始对话用户数`

### 5.2 分层指标体系

```
L1 核心指标: 对话完成率（北极星）
    │
L2 用户活跃度: DAU/MAU、留存率、会话时长
    │
L3 产品性能: 功能使用率、响应时间、错误率
    │
L4 用户满意度: CSAT、NPS、追问率
```

### 5.3 关键埋点事件

| 事件 | 触发时机 | 业务意义 |
|------|---------|---------|
| `page_view` | 页面访问 | 流量分析 |
| `feature_start` | 开始测算 | 功能使用统计 |
| `feature_complete` | 完成测算 | 核心转化指标 |
| `ai_response` | AI返回结果 | 响应时间监控 |
| `share_result` | 分享结果 | 传播指标 |

---

## 6. 用户体验设计

### 6.1 设计原则

1. **渐进式展示**: 避免信息过载，逐步呈现结果
2. **可控感设计**: 让用户感知AI正在"思考"
3. **容错性设计**: 优雅处理各种异常情况
4. **仪式感营造**: 摇卦等过程增强参与感

### 6.2 关键交互细节

| 场景 | 设计方案 | 产品思考 |
|------|---------|---------|
| 等待AI响应 | 加载动画+进度文字 | 缓解等待焦虑 |
| AI输出结果 | 打字机效果 | 增强可控感 |
| 错误提示 | 友好文案+重试按钮 | 降低挫败感 |
| 结果展示 | 分段展示+关键信息高亮 | 提升可读性 |

---

## 7. 技术实现方案

### 7.1 技术架构

```
前端: HTML + CSS + JavaScript (原生)
后端: Node.js + Express
数据库: Supabase (PostgreSQL)
AI服务: 美团 LangCat API (通义千问)
认证: Supabase Auth
部署: 支持 HTTP/HTTPS
```

### 7.2 关键技术决策

| 决策点 | 选择 | 理由 |
|--------|------|------|
| 不使用前端框架 | 原生HTML/CSS/JS | 降低复杂度，专注产品逻辑 |
| LangCat API | 美团AI平台 | 中文场景优化好，性价比高 |
| 流式输出 | Server-Sent Events | 提升用户体验 |
| 批量埋点 | 前端批量+后端批量 | 性能优化 |

---

## 8. 项目规划

### 8.1 迭代路线图

```
MVP (已完成)
├── 基础八字计算
├── 天乙贵人问答
└── 基础UI界面

V1.1 (当前)
├── 六爻占卜功能
├── 合盘分析功能
├── 数据埋点系统
└── 用户认证系统

V1.2 (规划)
├── 历史记录功能
├── 多轮对话支持
├── 用户反馈收集
└── A/B测试框架

V2.0 (规划)
├── 红鸾/太极角色优化
├── 社区功能
├── 付费会员体系
└── 小程序版本
```

### 8.2 风险评估

| 风险 | 可能性 | 影响 | 应对措施 |
|------|--------|------|---------|
| API成本过高 | 中 | 高 | 增加缓存策略、优化Prompt长度 |
| AI回答不准确 | 中 | 高 | 持续优化Prompt、增加免责声明 |
| 用户留存低 | 中 | 高 | 完善用户旅程、增加回访激励 |
| 监管风险 | 低 | 高 | 明确免责声明、避免迷信引导 |

---

## 9. 总结

### 9.1 产品亮点回顾

1. **角色化AI设计**: 三个差异化AI角色，提升用户信任度
2. **垂直场景深耕**: 聚焦求职场景，回答更精准
3. **数据驱动优化**: 完整埋点体系，持续迭代
4. **完整产品闭环**: 从需求分析到技术实现全流程覆盖

### 9.2 产品能力体现

| 能力维度 | 体现 |
|---------|------|
| 需求分析 | 用户访谈、痛点分析、竞品研究 |
| 产品设计 | 角色设计、功能规划、UX设计 |
| AI产品 | Prompt工程、AI工作流设计 |
| 数据分析 | 指标体系、埋点方案、A/B测试思维 |
| 项目管理 | 迭代规划、风险评估、优先级判断 |

---

**文档版本**: v1.0  
**最后更新**: 2026年2月
