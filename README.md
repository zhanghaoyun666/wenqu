# 问渠 - AI 命理咨询产品

> 🎯 **AI产品实习生作品** | 展示从0到1的AI产品设计与落地能力
> 
> **项目定位**: 面向年轻求职者的AI命理咨询平台，用传统智慧+AI技术缓解决策焦虑

---

## 🌟 项目亮点（适合简历展示）

### 💼 AI产品能力
- ✅ **完整的产品文档**: [PRD](./docs/product/PRD.md)、[竞品分析](./docs/product/competitive_analysis.md)、[用户调研](./docs/product/USER_RESEARCH.md)
- ✅ **AI角色设计**: 3个差异化AI咨询角色（天乙/太极/红鸾），提升用户信任度
- ✅ **Prompt Engineering**: 20+版本迭代，建立评估体系，准确率60%→95%
- ✅ **数据驱动**: 完整埋点体系，[A/B测试方案](./docs/analytics/AB_TEST_PLAN.md)，假设验证思维

### 🛠️ 技术落地能力
- ✅ **AI工作流设计**: 完整pipeline（计算→组装→调用→过滤）
- ✅ **性能优化**: 缓存策略+流式输出，响应时间8s→2s
- ✅ **用户体验**: 打字机效果、智能滚动、异常处理
- ✅ **用户认证**: 基于 Supabase 的登录/注册系统，区分管理员和普通用户

### 📊 项目成果
- 📈 独立完成15,000+行代码的全栈项目
- 📝 输出5000+字完整产品文档
- 🧪 建立完整的数据方法论体系
- ⚡ 优化后API成本降低40%

---

## 🎭 AI产品设计

### 角色化AI设计
不是冷冰冰的AI，而是有温度、有专业分工的"命理顾问"

| 角色 | 人格特征 | 专业领域 | 语言风格 |
|------|---------|---------|---------|
| 天乙贵人 | 严肃专业 | 事业/财运 | 古风庄重，以"贫道"自称 |
| 太极贵人 | 仙风道骨 | 占卜/决策 | 飘逸洒脱，引经据典 |
| 红鸾天喜 | 温柔浪漫 | 感情/婚姻 | 活泼亲切，充满希望 |

**设计思考**: 通过角色化降低AI冰冷感，提升用户信任度和粘性

---

## 📝 Prompt Engineering

### 提示词工程体系
```
Layer 4 (应用层): 场景化提示词（事业/姻缘/时运）
Layer 3 (角色层): 天乙/太极/红鸾 角色定义  
Layer 2 (能力层): 八字/六爻/合盘 专业能力
Layer 1 (基础层): 安全约束 + 格式规范 + 时间校准
```

### 优化成果
| 优化项 | 方法 | 效果 |
|--------|------|------|
| 时间校准 | 强制注入当前日期 | 准确率 60% → 95% |
| 思维链(CoT) | 分步骤分析引导 | 深度评分 +25% |
| Few-shot | 优质示例学习 | 格式一致性 70% → 90% |
| 输出约束 | 强制Markdown格式 | 满意度 +15% |

📄 [查看完整Prompt文档](./docs/prompts/README.md)

---

## 📊 数据思维与数据驱动

### 核心观点：数据思维 ≠ 大数据

**数据思维是用数据思考问题的方法，而不是拥有多少数据。**

即使项目早期，我也建立了完整的数据方法论体系：

### 指标体系设计

**北极星指标**: 对话完成率 (目标 > 85%)
- 选择理由：只有完成对话，用户才真正获得价值

**分层指标**:
- L1: 对话完成率（核心目标）
- L2: DAU/MAU、留存率（用户活跃度）
- L3: 功能使用率、响应时间（产品性能）
- L4: CSAT、NPS（用户满意度）

### 埋点方案设计

设计了**10+关键事件埋点**，覆盖完整用户旅程：

```
页面访问 → 填写表单 → 提交请求 → 等待生成 → 查看结果
    │          │          │          │          │
page_view  form_submit  ai_request  ai_response  share
```

### 数据驱动优化案例

#### 案例1: 优化等待体验（假设验证完整流程）

| 步骤 | 内容 | 数据思维体现 |
|------|------|-------------|
| **发现问题** | 等待时用户容易流失 | 观察 + 访谈验证 |
| **提出假设** | 用户不知道AI正在生成 | 可验证的假设 |
| **设计指标** | 等待阶段流失率 | 量化指标 |
| **设计方案** | 增加加载动画 + 文字提示 | 解决方案 |
| **成功标准** | 流失率从15%降至10% | 可衡量的目标 |
| **实施监控** | 建立埋点持续追踪 | 闭环验证 |

#### 案例2: Prompt优化（A/B测试思维）

```
对照组(A): v1提示词 → 追问率 35%
实验组(B): v2提示词（增加思维链） → 追问率 18%

结论: v2提示词显著优于v1，相关性评分 3.2 → 4.1
```

### 竞品对标分析

| 指标 | 行业平均 | 我的目标 | 优势策略 |
|------|---------|---------|---------|
| 对话完成率 | 60% | 80% | 流式输出 + 加载优化 |
| 首屏响应时间 | 3s | <1s | 缓存 + 预加载 |
| 用户满意度 | 4.0/5 | 4.3/5 | 角色化AI + 结构化输出 |

### 小样本时代的定性研究

**深度访谈**（5位目标用户）:
- 验证求职焦虑场景真实存在
- 发现3处体验问题并优化
- 收集NPS和满意度反馈

**可用性测试**:
- 让用户边用边"出声思考"
- 观察卡点，优化交互流程

📄 [查看完整数据方案](./docs/analytics/README.md)

---

## 🎯 核心功能

### 1. 问道（天乙贵人）- 八字分析
**场景**: 事业规划、求职决策、财运分析

**产品亮点**:
- 实时八字预览，增强信任感
- 三种咨询方向：事业/姻缘/时运
- AI回答结构化：概览→分析→建议→风险提示

### 2. 六爻（太极贵人）- 占卜问卦
**场景**: 具体事件预测、决策参考

**产品亮点**:
- 铜钱摇卦动画，增强仪式感
- 完整的卦象解析（本卦/变卦/动爻）
- 明确的吉凶判断和行动指引

### 3. 合盘（红鸾天喜）- 双人匹配
**场景**: 感情咨询、婚恋匹配

**产品亮点**:
- 双人八字对比分析
- 缘分指数量化评分
- 具体相处建议，可操作性强

---

## 🚀 快速开始

### 安装依赖
```bash
npm install
```

### 配置环境变量
```bash
cp env.example .env
# 编辑 .env 填入你的 LangCat API Key
```

### 启动服务
```bash
npm start
# 访问 http://localhost:3000
```

---

## 📁 项目结构

```
问渠/
├── 📄 docs/                     # 产品文档
│   ├── product/                 # 产品规划
│   │   ├── PRD.md              # 产品需求文档
│   │   ├── competitive_analysis.md  # 竞品分析
│   │   ├── USER_RESEARCH.md    # 用户调研方案
│   │   └── ROADMAP.md          # 产品路线图
│   ├── prompts/                 # Prompt工程
│   │   └── README.md           # 提示词文档
│   └── analytics/               # 数据分析
│       ├── README.md           # 埋点方案
│       └── AB_TEST_PLAN.md     # A/B测试设计
│
├── 🎨 public/                   # 前端页面
│   ├── main.html               # 首页
│   ├── wendao.html             # 问道功能
│   ├── liuyao.html             # 六爻功能
│   └── heban.html              # 合盘功能
│
├── ⚙️ 后端服务
│   ├── server.js               # Express主服务
│   ├── bazi_calculator.js      # 八字计算引擎
│   ├── langcat_client.js       # AI调用客户端
│   ├── ai_pipeline.js          # AI处理流水线
│   └── *_prompt_functions.js   # 提示词模板
│
└── 📋 README.md                # 项目说明
```

---

## 💡 AI产品设计方法论

### 1. 角色化原则
给AI一个清晰的"人设"，让用户感觉在和"人"对话
- 降低心理门槛
- 增强信任感
- 提升用户粘性

### 2. 可控感设计
让用户感知到AI正在"思考"
- 打字机效果展示生成过程
- 加载动画减少等待焦虑
- 进度提示增强掌控感

### 3. 渐进式展示
避免信息过载，逐步呈现结果
- 分段展示，便于阅读
- 关键信息高亮
- 支持折叠展开

### 4. 容错性设计
优雅处理各种异常情况
- API超时：重试+降级
- 生成失败：友好提示+重试
- 输入错误：实时校验

---

## 🎓 面试展示建议

### 项目介绍话术（3分钟版本）

"这个项目是我独立完成的AI产品作品。我发现很多年轻人在求职时会感到焦虑，而传统的命理咨询门槛高、价格贵。所以我设计了这个产品，用AI技术让命理咨询变得更便捷、更温暖。

**在产品设计方面**，我设计了3个AI角色，每个都有明确的专业分工和人格特征。比如天乙贵人是严肃专业的八字大师，专门解答事业问题。通过角色化设计，用户的信任度和满意度都有明显提升。

**在Prompt Engineering方面**，我建立了完整的提示词工程体系，通过A/B测试持续优化。比如我发现模型经常把时间搞错，于是强制注入当前日期，准确率从60%提升到了95%。

**在数据分析方面**，我搭建了完整的埋点体系，用数据驱动产品优化。比如通过漏斗分析发现等待阶段流失率高，我优化了加载体验，流失率从15%降到了8%。

这个项目让我对AI产品设计有了系统的理解，从需求分析到Prompt优化，再到数据验证，形成了一套完整的方法论。"

### 可能的面试问题

**Q: 为什么选择做命理这个方向？**
> A: 一是观察到身边同学在求职时确实有焦虑情绪，二是命理咨询是一个典型的知识密集型场景，很适合用大模型来降本增效，三是这个领域有明确的评价体系（准确性、专业性），便于用数据验证效果。

**Q: 如何评估AI回答的质量？**
> A: 我建立了5维度评估体系：准确性、相关性、可读性、安全性、角色一致性。同时通过埋点收集用户行为数据，比如追问率可以反映回答是否解决用户问题。例如我发现追问率35%，说明AI回答不够精准，优化后降到了18%。

**Q: 你没有大量用户数据，怎么体现数据思维？**
> A: 数据思维不是要有大数据，而是要知道怎么设计数据方案。我建立了完整的指标体系（北极星指标是"对话完成率"）、设计了10+事件埋点、用假设验证方法优化产品。例如我发现用户等待时流失，提出假设→设计指标→设定成功标准→实施方案→持续监控，这就是数据思维的完整应用。

**Q: 举个例子，怎么用数据思维做决策？**
> A: 我优化AI等待体验的过程：①**发现问题**：等待时用户流失 ②**提出假设**：用户不知道AI在生成 ③**设计指标**：等待阶段流失率 ④**设定标准**：从15%降到10%算成功 ⑤**实施方案**：加进度动画 ⑥**持续监控**：建立埋点追踪。整个过程用数据说话，而不是拍脑袋。

**Q: 遇到过什么挑战？**
> A: 最大的挑战是模型时间错乱问题。通过数据分析发现AI经常把2026年说成2023年，我提出假设是因为训练数据有截止日期。于是我在提示词中强制注入当前日期，并反复强调，把时间准确率从60%提升到了95%。这让我明白数据驱动不仅是事后分析，更要用在问题定位和方案验证上。

---

## 📚 相关文档

- [产品需求文档 (PRD)](./docs/product/PRD.md)
- [竞品分析报告](./docs/product/competitive_analysis.md)
- [Prompt Engineering 文档](./docs/prompts/README.md)
- [数据分析方案](./docs/analytics/README.md)
- [A/B测试设计](./docs/analytics/AB_TEST_PLAN.md)
- [用户调研方案](./docs/product/USER_RESEARCH.md)
- [产品路线图](./docs/product/ROADMAP.md)

---

**联系方式**: [你的邮箱] | **GitHub**: [你的GitHub]

*这个项目展示了我作为AI产品实习生的核心能力：产品思维、Prompt Engineering、数据分析、项目落地。期待与您交流！*
