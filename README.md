# 问渠 - AI 命理咨询产品（实习项目）

> 🎯 **AI产品实习生作品** | 独立完成的全流程AI产品设计与开发
> 
> **项目状态**: ✅ 开发完成 | 🚧 未上线（本地演示环境）
> 
> **项目定位**: 面向年轻求职者的AI命理咨询平台，用传统智慧+AI技术缓解决策焦虑

---

## 📋 项目说明

本项目是我在学习AI产品过程中独立完成的**全栈练习项目**，涵盖从需求分析、产品设计、Prompt Engineering到前后端开发的完整流程。

**为什么做这个项目？**
- 想系统实践AI产品设计的完整方法论
- 命理咨询是典型的知识密集型场景，适合用大模型
- 通过实际项目锻炼产品思维+技术落地的综合能力

---

## 🌟 核心亮点

### 💼 AI产品能力
- ✅ **完整的产品文档**: [PRD](./docs/product/PRD.md)、[竞品分析](./docs/product/competitive_analysis.md)、[用户调研](./docs/product/USER_RESEARCH.md)
- ✅ **AI角色设计**: 3个差异化AI咨询角色（天乙/太极/红鸾），提升用户信任度
- ✅ **Prompt Engineering**: 20+版本迭代，建立评估体系，准确率60%→95%
- ✅ **数据思维**: 完整埋点方案设计，[A/B测试方案](./docs/analytics/AB_TEST_PLAN.md)

### 🛠️ 技术落地能力
- ✅ **AI工作流设计**: 完整pipeline（计算→组装→调用→过滤）
- ✅ **性能优化**: 缓存策略+流式输出，响应时间8s→2s
- ✅ **用户体验**: 打字机效果、智能滚动、异常处理
- ✅ **用户认证**: 基于 Supabase 的登录/注册系统，区分管理员和普通用户

### 📊 项目成果
- 📈 独立完成15,000+行代码的全栈项目
- 📝 输出5000+字完整产品文档
- 🧪 建立完整的数据方法论体系
- ⚡ 优化后API成本降低40%

---

## 🎭 AI产品设计

### 角色化AI设计
不是冷冰冰的AI，而是有温度、有专业分工的"命理顾问"

| 角色 | 人格特征 | 专业领域 | 语言风格 |
|------|---------|---------|---------|
| 天乙贵人 | 严肃专业 | 事业/财运 | 古风庄重，以"贫道"自称 |
| 太极贵人 | 仙风道骨 | 占卜/决策 | 飘逸洒脱，引经据典 |
| 红鸾天喜 | 温柔浪漫 | 感情/婚姻 | 活泼亲切，充满希望 |

**设计思考**: 通过角色化降低AI冰冷感，提升用户信任度和粘性

---

## 📝 Prompt Engineering

### 提示词工程体系
```
Layer 4 (应用层): 场景化提示词（事业/姻缘/时运）
Layer 3 (角色层): 天乙/太极/红鸾 角色定义  
Layer 2 (能力层): 八字/六爻/合盘 专业能力
Layer 1 (基础层): 安全约束 + 格式规范 + 时间校准
```

### 优化成果
| 优化项 | 方法 | 效果 |
|--------|------|------|
| 时间校准 | 强制注入当前日期 | 准确率 60% → 95% |
| 思维链(CoT) | 分步骤分析引导 | 深度评分 +25% |
| Few-shot | 优质示例学习 | 格式一致性 70% → 90% |
| 输出约束 | 强制Markdown格式 | 满意度 +15% |

📄 [查看完整Prompt文档](./docs/prompts/README.md)

---

## 📊 数据思维与数据驱动

### 核心观点：数据思维 ≠ 大数据

**数据思维是用数据思考问题的方法，而不是拥有多少数据。**

即使项目早期，我也建立了完整的数据方法论体系：

### 指标体系设计

**北极星指标**: 对话完成率 (目标 > 85%)
- 选择理由：只有完成对话，用户才真正获得价值

**分层指标**:
- L1: 对话完成率（核心目标）
- L2: DAU/MAU、留存率（用户活跃度）
- L3: 功能使用率、响应时间（产品性能）
- L4: CSAT、NPS（用户满意度）

### 埋点方案设计

设计了**10+关键事件埋点**，覆盖完整用户旅程：

```
页面访问 → 填写表单 → 提交请求 → 等待生成 → 查看结果
    │          │          │          │          │
page_view  form_submit  ai_request  ai_response  share
```

### 数据驱动优化案例

#### 案例1: 优化等待体验（假设验证完整流程）

| 步骤 | 内容 | 数据思维体现 |
|------|------|-------------|
| **发现问题** | 等待时用户容易流失 | 观察 + 访谈验证 |
| **提出假设** | 用户不知道AI正在生成 | 可验证的假设 |
| **设计指标** | 等待阶段流失率 | 量化指标 |
| **设计方案** | 增加加载动画 + 文字提示 | 解决方案 |
| **成功标准** | 流失率从15%降至10% | 可衡量的目标 |
| **实施监控** | 建立埋点持续追踪 | 闭环验证 |

#### 案例2: Prompt优化（A/B测试思维）

```
对照组(A): v1提示词 → 追问率 35%
实验组(B): v2提示词（增加思维链） → 追问率 18%

结论: v2提示词显著优于v1，相关性评分 3.2 → 4.1
```

📄 [查看完整数据方案](./docs/analytics/README.md)

---

## 🎯 核心功能

### 1. 问道（天乙贵人）- 八字分析
**场景**: 事业规划、求职决策、财运分析

**产品亮点**:
- 实时八字预览，增强信任感
- 三种咨询方向：事业/姻缘/时运
- AI回答结构化：概览→分析→建议→风险提示

### 2. 六爻（太极贵人）- 占卜问卦
**场景**: 具体事件预测、决策参考

**产品亮点**:
- 铜钱摇卦动画，增强仪式感
- 完整的卦象解析（本卦/变卦/动爻）
- 明确的吉凶判断和行动指引

### 3. 合盘（红鸾天喜）- 双人匹配
**场景**: 感情咨询、婚恋匹配

**产品亮点**:
- 双人八字对比分析
- 缘分指数量化评分
- 具体相处建议，可操作性强

---

## 🚀 本地运行

### 安装依赖
```bash
npm install
```

### 配置环境变量
```bash
cp env.example .env
# 编辑 .env 填入你的 API Key
```

### 启动服务
```bash
npm start
# 访问 http://localhost:3000
```

---

## 📁 项目结构

```
问渠/
├── 📄 docs/                     # 产品文档
│   ├── product/                 # 产品规划
│   │   ├── PRD.md              # 产品需求文档
│   │   ├── competitive_analysis.md  # 竞品分析
│   │   ├── USER_RESEARCH.md    # 用户调研方案
│   │   └── ROADMAP.md          # 产品路线图
│   ├── prompts/                 # Prompt工程
│   │   └── README.md           # 提示词文档
│   └── analytics/               # 数据分析
│       ├── README.md           # 埋点方案
│       └── AB_TEST_PLAN.md     # A/B测试设计
│
├── 🎨 public/                   # 前端页面
│   ├── main.html               # 首页
│   ├── wendao.html             # 问道功能
│   ├── liuyao.html             # 六爻功能
│   └── heban.html              # 合盘功能
│
├── ⚙️ 后端服务
│   ├── server.js               # Express主服务
│   ├── bazi_calculator.js      # 八字计算引擎
│   ├── langcat_client.js       # AI调用客户端
│   ├── ai_pipeline.js          # AI处理流水线
│   └── *_prompt_functions.js   # 提示词模板
│
└── 📋 README.md                # 项目说明
```

---

## 💡 AI产品设计方法论

### 1. 角色化原则
给AI一个清晰的"人设"，让用户感觉在和"人"对话
- 降低心理门槛
- 增强信任感
- 提升用户粘性

### 2. 可控感设计
让用户感知到AI正在"思考"
- 打字机效果展示生成过程
- 加载动画减少等待焦虑
- 进度提示增强掌控感

### 3. 渐进式展示
避免信息过载，逐步呈现结果
- 分段展示，便于阅读
- 关键信息高亮
- 支持折叠展开

### 4. 容错性设计
优雅处理各种异常情况
- API超时：重试+降级
- 生成失败：友好提示+重试
- 输入错误：实时校验

---

## 📝 写在最后

这个项目是我在学习AI产品过程中的**实践练习作品**，主要目的是：

1. **掌握AI产品设计的完整流程**：从需求分析到产品落地
2. **锻炼Prompt Engineering能力**：学会与LLM高效协作
3. **培养数据思维**：学会用数据驱动产品决策
4. **提升技术理解力**：理解AI产品的技术实现边界

虽然项目未正式上线，但通过完整的文档输出和代码实现，我已经建立了AI产品设计的系统方法论，期待在实际工作中继续深化这些能力。

---

**相关文档**

- [产品需求文档 (PRD)](./docs/product/PRD.md)
- [竞品分析报告](./docs/product/competitive_analysis.md)
- [Prompt Engineering 文档](./docs/prompts/README.md)
- [数据分析方案](./docs/analytics/README.md)
- [A/B测试设计](./docs/analytics/AB_TEST_PLAN.md)
- [用户调研方案](./docs/product/USER_RESEARCH.md)
- [产品路线图](./docs/product/ROADMAP.md)

---

*这个项目展示了我作为AI产品实习生的核心能力：产品思维、Prompt Engineering、数据分析、项目落地。期待与您交流！*
